{% extends "announcements/announcement_form.html" %}

{% load i18n bootstrap_tags %}

{% block brand %}
    {% with brand_url_name="announcements_list" %}
        {{ block.super }}
    {% endwith %}
{% endblock %}

{% block brand_title %}
    {% if not announcement %}
        {% trans "Announcements" %}
    {% endif %}
{% endblock %}

{% block brand_details %}
    <a href="{{ announcement.get_absolute_url }}">{{ announcement.title }}</a>
{% endblock %}

{% block top_middle %}
    {% if announcement %}
        {% trans "Edit Announcement" %}
    {% else %}
        {% trans "Create Announcement" %}
    {% endif %}
{% endblock %}

{% block body %}

    {% if announcement %}
        {% url "announcements_update" pk=announcement.pk as post_url %}
    {% else %}
        {% url "announcements_create" as post_url %}
    {% endif %}

    <form action="{{ post_url }}" method="POST" class="form form-horizontal">
        {% csrf_token %}
        {{ form|as_bootstrap }}
        <div class="form-actions">
            <a href="{% url "announcements_list" %}" class="btn">{% trans "Cancel" %}</a>
            {% if announcement %}
                <a href="{% url "announcements_delete" pk=announcement.pk %}" class="btn btn-danger">{% trans "Delete" %}</a>
            {% endif %}
            <button type="submit" class="btn btn-primary">{% trans "Save" %}</button>
        </div>
    </form>
{% endblock %}